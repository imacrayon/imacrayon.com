<?xml version="1.0"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>I&#039;m a crayon</title>
  <link href="https://imacrayon.com" />
  <link type="application/atom+xml" rel="self" href="https://imacrayon.com/feed.atom" />
  <updated>2022-02-24T15:20:46+00:00</updated>
  <id>https://imacrayon.com/feed.atom</id>
  <author>
    <name>Christian Taylor</name>
  </author>
      <entry>
  <id>https://imacrayon.com/words/adding-cloudflare-to-a-laravel-forge-site</id>
  <link type="text/html" rel="alternate" href="https://imacrayon.com/words/adding-cloudflare-to-a-laravel-forge-site" />
  <title>Adding Cloudflare to a Laravel Forge Site</title>
  <published>2022-02-23T19:15:00+00:00</published>
  <updated>2022-02-23T19:15:00+00:00</updated>
  <author>
      <name>Christian Taylor</name>
  </author>
  <summary type="html">I manage several websites hosted on Digital Ocean through Laravel Forge. Recently some unusual traffic on one of these websites prompted me to setup some Cloudflare security features. Cloudflare required that I migrate my website&#039;s DNS from Digital Ocean......</summary>
  <content type="html"><![CDATA[
      <p>I manage several websites hosted on <a href="https://digitalocean.com">Digital Ocean</a> through <a href="https://forge.laravel.com">Laravel Forge</a>. Recently some unusual traffic on one of these websites prompted me to setup some <a href="https://cloudflare.com">Cloudflare</a> security features. Cloudflare required that I migrate my website's DNS from Digital Ocean onto their platform, and this required some additional tweaks to settings within Laravel Forge and Digital Ocean. I'm going to document my migration process here for future me.</p>

<h2>DNS</h2>

<p>Migrating the DNS settings to Cloudflare is straight forward. Cloudflare is able to scan your domain and pull in all of the existing DNS settings that are already setup on Digital Ocean.</p>

<h2>SSL</h2>

<p>After migrating the DNS, you need to create a new TLS certificate signed by Cloudflare. Without this certificate the Digital Ocean server fails to respond to requests forwarded from Cloudflare. In the Cloudflare dashboard navigate to <strong>SSL/TSL > Origin Server</strong>. From this page you can generate a new certificate for your domain. Once you have a new certificate, head over to Laravel Forge. Navigate to the website's dashboard, then go to the <strong>SSL</strong> page, and click <strong>Install Existing</strong> under the New Certificate panel. Copy and paste the certificate information from Cloudflare into the Private Key and Certificate fields in Forge.</p>

<p>At this point the website should be ready to go. The last step is to add your SSL certificate to any Digital Ocean Spaces CDNs your might have configured.</p>

<h2>Spaces CDN</h2>

<p>On the Settings page for your Digital Ocean Space, select <strong>Edit > Add a new certificate</strong>. Within the settings modal select the <strong>Bring your own certificate</strong> tab. From here you can add your certificate settings just like you did in SSL step above.</p>
  ]]></content>
</entry>
    <entry>
  <id>https://imacrayon.com/words/subdomain-redirects-in-laravel-forge</id>
  <link type="text/html" rel="alternate" href="https://imacrayon.com/words/subdomain-redirects-in-laravel-forge" />
  <title>Subdomain Redirects in Laravel Forge</title>
  <published>2021-02-04T21:28:00+00:00</published>
  <updated>2021-02-04T21:28:00+00:00</updated>
  <author>
      <name>Christian Taylor</name>
  </author>
  <summary type="html">I had to go through some trial and error to get this working so I&#039;m writing it down. My goal was to permanently redirect a domain like &lt;code&gt;beta.imacrayon.com&lt;/code&gt; to &lt;code&gt;imacrayon.com&lt;/code&gt; in Laravel Forge.

In order to properly redirect......</summary>
  <content type="html"><![CDATA[
      <p>I had to go through some trial and error to get this working so I'm writing it down. My goal was to permanently redirect a domain like <code>beta.imacrayon.com</code> to <code>imacrayon.com</code> in Laravel Forge.</p>

<p>In order to properly redirect <code>https://beta.imacrayon.com</code>. I generated a new LetsEncrypt certificate with the following domains: <code>imacrayon.com,www.imacrayon.com,beta.imacrayon.com</code>.</p>

<p>Next I added two new server blocks to the top of my nginx config:</p>

<pre><code class="language-bash">server {
    listen 80;
    listen [::]:80;
    server_name beta.imacrayon.com;
    return 301 https://imacrayon.com$request_uri;
}

server {
    listen 443 ssl http2;
    listen [::]:443 ssl http2;

    # PASTE YOUR SSL DIRECTIVES HERE

    server_name beta.imacrayon.com;
    return 301 https://imacrayon.com$request_uri;
}
</code></pre>

<p>The second server block requires you to add the SSL directives for the LetsEncrypt certificate generated in the first step. You should be able to find these directives inside your existing nginx config. They’ll probably be labeled with a comment like <code># FORGE SSL (DO NOT REMOVE!)</code> and look like this:</p>

<pre><code class="language-bash">    # FORGE SSL (DO NOT REMOVE!)
    ssl_certificate /etc/nginx/ssl/imacrayon.com/xxx/server.crt;
    ssl_certificate_key /etc/nginx/ssl/imacrayon.com/xxx/server.key;

    ssl_protocols TLSv1.2;
    ssl_ciphers …
    ssl_prefer_server_ciphers on;
    ssl_dhparam /etc/nginx/dhparams.pem;
</code></pre>

<p>That’s it! After saving your config <code>http://beta.imacrayon.com</code> and <code>https://beta.imacrayon.com</code> should now redirect to <code>https://imacrayon.com</code>.</p>

<p>Browsers will cache 301 redirects. So when testing these new redirects you may need to enable the “Clear cache” option in your browser's Developer Tools, it’s usually located under the “Network” tab.</p>
  ]]></content>
</entry>
    <entry>
  <id>https://imacrayon.com/words/mlk-day</id>
  <link type="text/html" rel="alternate" href="https://imacrayon.com/words/mlk-day" />
  <title>MLK Day</title>
  <published>2021-01-18T09:18:00+00:00</published>
  <updated>2021-01-18T09:18:00+00:00</updated>
  <author>
      <name>Christian Taylor</name>
  </author>
  <summary type="html">I came across a speech Dr. Martin Luther King Jr. gave at an annual conference for the American Psychological Association in 1967. I was struck by just how relevant this passage is right now:


    
        Urban riots must now be recognized as durable......</summary>
  <content type="html"><![CDATA[
      <p>I came across a speech Dr. Martin Luther King Jr. gave at an annual conference for the American Psychological Association in 1967. I was struck by just how relevant this passage is right now:</p>

<figure>
    <blockquote cite="https://www.apa.org/monitor/features/king-challenge">
        <p>Urban riots must now be recognized as durable social phenomena. They may be deplored, but they are there and should be understood. Urban riots are a special form of violence. They are not insurrections. The rioters are not seeking to seize territory or to attain control of institutions. They are mainly intended to shock the white community. They are a distorted form of social protest. The looting which is their principal feature serves many functions. It enables the most enraged and deprived Negro to take hold of consumer goods with the ease the white man does by using his purse. Often the Negro does not even want what he takes; he wants the experience of taking. But most of all, alienated from society and knowing that this society cherishes property above people, he is shocking it by abusing property rights. There are thus elements of emotional catharsis in the violent act. This may explain why most cities in which riots have occurred have not had a repetition, even though the causative conditions remain. It is also noteworthy that the amount of physical harm done to white people other than police is infinitesimal and in Detroit whites and Negroes looted in unity.</p>

        <p>A profound judgment of today's riots was expressed by Victor Hugo a century ago. He said, 'If a soul is left in the darkness, sins will be committed. The guilty one is not he who commits the sin, but he who causes the darkness.'</p>

        <p>The policymakers of the white society have caused the darkness; they create discrimination; they structured slums; and they perpetuate unemployment, ignorance and poverty. It is incontestable and deplorable that Negroes have committed crimes; but they are derivative crimes. They are born of the greater crimes of the white society. When we ask Negroes to abide by the law, let us also demand that the white man abide by law in the ghettos. Day-in and day-out he violates welfare laws to deprive the poor of their meager allotments; he flagrantly violates building codes and regulations; his police make a mockery of law; and he violates laws on equal employment and education and the provisions for civic services. The slums are the handiwork of a vicious system of the white society; Negroes live in them but do not make them any more than a prisoner makes a prison. Let us say boldly that if the violations of law by the white man in the slums over the years were calculated and compared with the law-breaking of a few days of riots, the hardened criminal would be the white man. These are often difficult things to say but I have come to see more and more that it is necessary to utter the truth in order to deal with the great problems that we face in our society.</p>
    </blockquote>
    <figcaption>— <cite>Dr. Martin Luther King Jr., 1967</cite></figcaption>
</figure>

<p>This week I'm reminding myself to take time to stop and listen.</p>

<p><a href="https://www.apa.org/monitor/features/king-challenge">You can read the full speech here</a>.</p>
  ]]></content>
</entry>
    <entry>
  <id>https://imacrayon.com/words/gather-the-people-new-artwork</id>
  <link type="text/html" rel="alternate" href="https://imacrayon.com/words/gather-the-people-new-artwork" />
  <title>Gather the People; New Artwork</title>
  <published>2021-01-10T13:37:00+00:00</published>
  <updated>2021-01-10T13:37:00+00:00</updated>
  <author>
      <name>Christian Taylor</name>
  </author>
  <summary type="html">2021 is off to a turbulent start to say the least:


Covid-19 is surging again, spurred by holiday gatherings.
Trump supporters stormed the United States Capitol.
Democrats gained control of the Senate by winning Georgia&#039;s runoff elections.
I started......</summary>
  <content type="html"><![CDATA[
      <p>2021 is off to a turbulent start to say the least:</p>

<ul>
<li>Covid-19 is surging again, spurred by holiday gatherings.</li>
<li>Trump supporters <a href="https://en.wikipedia.org/wiki/2021_storming_of_the_United_States_Capitol">stormed the United States Capitol</a>.</li>
<li>Democrats gained control of the Senate by winning Georgia's runoff elections.</li>
<li>I started working again after a 2 holiday break.</li>
</ul>

<p>This week I read <a href="https://gatherthepeople.com"><em>Gather the People</em></a> by <a href="https://twitter.com/sarahavenir">Sarah Avenir</a>. It's helped motivate me to stop and share more often. I tend to get caught up in the projects I'm working on and never take the time to pause and take inventory of the <a href="https://signalvnoise.com/posts/1620-sell-your-by-products">"sawdust" around me</a>.</p>

<p>So, in the spirit of taking inventory, this weekend I started cataloging past artwork and <a href="/pictures">uploading it here</a>. Up until now this site has functioned as a web development blog. My goal for 2021 is to make this place more of personal space. I hope to keep updating it with current work throughout the rest of the year.</p>

<p>Another personal touch I'm adding to this blog is a new "Food for Thought" feature where I'll document stuff I'm currently "chewing" on. I'm not sure what it will look like yet, but I'll just get started an see where it goes:</p>

<ul>
<li><a href="https://gatherthepeople.com"><em>Gather the People</em></a></li>
<li><a href="https://www.youtube.com/watch?app=desktop&amp;v=sHSLWOh3lJg"><em>Girls &amp; Boys (From Shrimp Sessions 2)</em></a> by Viagra Boys</li>
<li><a href="https://vimeo.com/59384516"><em>Do Things The Long, Hard, Stupid Way</em></a>: A talk by <a href="https://twitter.com/frank_chimero">Frank Chimero</a></li>
<li><a href="https://youtu.be/CxUrZFAPdiU">A funny game glitch</a></li>
<li><a href="https://turbo.hotwire.dev">Hotwire</a>: An interesting new frontend stack</li>
<li><a href="https://wakirin.github.io/Litepicker">Litepicker</a>: A nice calendar widget</li>
</ul>
  ]]></content>
</entry>
    <entry>
  <id>https://imacrayon.com/words/2020-recap</id>
  <link type="text/html" rel="alternate" href="https://imacrayon.com/words/2020-recap" />
  <title>2020 Recap</title>
  <published>2020-12-31T13:41:00+00:00</published>
  <updated>2020-12-31T13:41:00+00:00</updated>
  <author>
      <name>Christian Taylor</name>
  </author>
  <summary type="html">This was the first year I worked as Lead Developer &amp;amp; Co-founder of Moonbase Labs.
I mostly quit social media.
I started blogging.
Moonbase moved into its first office.
I setup my first home office.
Moonbase went 100% remote.
I started playing video......</summary>
  <content type="html"><![CDATA[
      <ul>
<li>This was the first year I worked as Lead Developer &amp; Co-founder of Moonbase Labs.</li>
<li>I mostly quit social media.</li>
<li>I started blogging.</li>
<li>Moonbase moved into its first office.</li>
<li>I setup my first home office.</li>
<li>Moonbase went 100% remote.</li>
<li>I started playing video games more often.</li>
<li><a href="https://goventuredash.com">VentureDash</a>, a product we launched late last year, hosted its first 95 entrepreneurship competitions across the country.</li>
<li>I improved some of the technology that powers <a href="https://friendshiplamps.com">friendshiplamps.com</a>.</li>
<li>I hiked some cool mountains in Colorado with Miranda.</li>
<li>I help build <a href="https://votelocalks.org">VoteLocal</a>, in partnership with <a href="https://www.kmuw.org">KMUW</a> and <a href="http://devict.org">devICT</a>, to help Kansans find election info.</li>
<li>I voted.</li>
<li>I volunteered &amp; contributed to political campaigns outside of Kansas for the first time.</li>
<li>I grew my hair out.</li>
<li><a href="https://github.com/imacrayon">I contributed code to about 20 open source projects</a>.</li>
<li>Some code I wrote was <a href="https://www.youtube.com/watch?v=fzI9FNjXQ0o&amp;feature=emb_title">archived underground in the North Pole</a> by the Arctic World Archive.</li>
<li>I learned a lot about project management.</li>
<li>Moobase grew <a href="https://essentialceu.com">Essential CEU</a>'s userbase by 93%.</li>
<li>I learned a lot about ADHD.</li>
<li>I started making sourdough again.</li>
<li>I worried a lot about my health and others.</li>
<li>I didn’t eat any meat.</li>
<li>I started composting.</li>
<li>I listened to a lot of <a href="https://songwhip.com/pinegrove">Pinegrove</a>; <a href="https://songwhip.com/phoebe-bridgers">Phoebe Bridges</a>; <a href="https://songwhip.com/kevin-devine">Kevin Devin</a>, <a href="https://songwhip.com/touche-amore">Touché Amoré</a>; <a href="https://songwhip.com/slaughter-beach-dog">Slaughter Beach, Dog</a>; <a href="https://songwhip.com/david-bazan">David Bazan</a>; &amp; <a href="https://songwhip.com/jeff-rosenstock">Jeff Rosenstock</a>.</li>
<li>I discovered new bands like <a href="https://songwhip.com/dogleg">Dogleg</a>, <a href="https://songwhip.com/beach-bunny">Beach Bunny</a>, and <a href="https://songwhip.com/ernestrareberrg">Ernest Rareberrg</a>.</li>
<li>I discovered cool work by artists <a href="https://thedailysplice.com">Adam Hale</a>, <a href="https://www.ifrancis.co.uk">Ian Francis</a>, <a href="https://www.instagram.com/inside_a_ginger/">inside_a_ginger</a>, <a href="https://www.nikolasantoniou.com">Nikolas Antoniou</a>, <a href="http://www.michael-reeder.com">Michael Reeder</a>.</li>
<li>I built <a href="https://kansasbeatsthevirus.org">kansasbeatsthevirus.org</a> where over 800 communities &amp; organizations across Kansas committed to mitigating the impact of Covid-19.</li>
<li>Miranda &amp; I ended our relationship.</li>
<li>I re-did the bathroom.</li>
<li>I started running again.</li>
</ul>
  ]]></content>
</entry>
    <entry>
  <id>https://imacrayon.com/words/deploy-laravel-apps-with-github-actions</id>
  <link type="text/html" rel="alternate" href="https://imacrayon.com/words/deploy-laravel-apps-with-github-actions" />
  <title>Deploy Laravel Apps with Github Actions</title>
  <published>2020-06-06T20:26:00+00:00</published>
  <updated>2020-06-06T20:26:00+00:00</updated>
  <author>
      <name>Christian Taylor</name>
  </author>
  <summary type="html">I deployed my first Laravel project using Github Actions today, these articles and resources were a big help in doing so:


Building and Deploying Laravel with Github Actions by Dries Vints
Using GitHub actions to run the tests of Laravel projects and......</summary>
  <content type="html"><![CDATA[
      <p>I deployed my first Laravel project using <a href="https://github.com/features/actions">Github Actions</a> today, these articles and resources were a big help in doing so:</p>

<ul>
<li><a href="https://medium.com/@driesvints/building-and-deploying-laravel-with-github-actions-8111e8a6646e">Building and Deploying Laravel with Github Actions</a> by Dries Vints</li>
<li><a href="https://freek.dev/1546-using-github-actions-to-run-the-tests-of-laravel-projects-and-packages">Using GitHub actions to run the tests of Laravel projects and packages</a></li>
<li><a href="https://github.com/actions/starter-workflows/blob/2ffdd0654ef8d0dfa8ff3c740a6f1d4c2eaccd8f/ci/laravel.yml">GitHub Actions Laravel Starter Workflow</a></li>
</ul>

<p>Here's the workflow config I landed on:</p>

<pre><code>name: Tests

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

jobs:
  tests:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v2

      - name: Cache dependencies
        uses: actions/cache@v2
        with:
          path: ~/.composer/cache/files
          key: dependencies-composer-${{ hashFiles('composer.lock') }}

      - name: Setup PHP
        uses: shivammathur/setup-php@v2
        with:
          php-version: 7.4
          extensions: dom, curl, libxml, mbstring, zip, pcntl, pdo, sqlite, pdo_sqlite
          coverage: none

      - name: Install Composer dependencies
        run: composer install --prefer-dist --no-interaction

      - name: Execute tests
        run: vendor/bin/phpunit --verbose

      - name: Send Slack notification
        uses: 8398a7/action-slack@v2
        if: failure()
        with:
          status: ${{ job.status }}
          author_name: ${{ github.actor }}
        env:
          SLACK_WEBHOOK_URL: ${{ secrets.SLACK_WEBHOOK }}
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

      - name: Deploy to Envoyer
        if: github.ref == 'refs/heads/main'
        run: curl ${{ secrets.ENVOYER_HOOK }}?sha=${{ github.sha }}
</code></pre>

<p>Here's a summary of the steps and some required configuration:</p>

<ul>
<li><code>Checkout code</code> checks out the fresh code.</li>
<li><code>Cache dependencies</code> will cache composer downloads so that future actions run quicker. The cache is busted when your <code>composer.lock</code> file changes.</li>
<li><code>Setup PHP</code> will setup PHP 7.4 as well as Laravel's required extensions.</li>
<li><code>Execute tests</code> runs PHPUnit.</li>
<li><code>Send Slack notification</code> will send a notification to the specified webhook if any tests fail.</li>
<li><code>Deploy to Envoyer</code> triggers a new Envoyer deployment when new code is pushed to the <code>main</code> branch.</li>
</ul>

<p>In order for PHPUnit to work your Laravel app must have an <code>APP_KEY</code> set. The easiest way to do this is to modify the <code>phpunit.xml</code> file in your project and hardcode an app key:</p>

<pre><code>&lt;phpunit&gt;
    &lt;php&gt;
        ...

        &lt;server name="APP_KEY" value="base64:NXoQgjw2ZlOxnGbo5ZRhYgTdM6xLYsgYElNAgcTQJkE="/&gt;

        ...
</code></pre>

<p>The last thing you'll need to do is setup two secrets under your repo's "Secrets" settings page on GitHub. Note that the <code>GITHUB_TOKEN</code> secret in our action is automatically provided for you.</p>

<ul>
<li>Create a <code>SLACK_WEBHOOK</code> secret to store your Slack webhook URL.</li>
<li>Create a <code>ENVOYER_HOOK</code> secret to store the deployment URL for your Envoyer project.</li>
</ul>
  ]]></content>
</entry>
    <entry>
  <id>https://imacrayon.com/words/the-power-of-assertSessionHasNoErrors</id>
  <link type="text/html" rel="alternate" href="https://imacrayon.com/words/the-power-of-assertSessionHasNoErrors" />
  <title>Make Laravel Tests Easier To Debug With `assertSessionHasNoErrors`</title>
  <published>2020-04-26T20:55:00+00:00</published>
  <updated>2020-04-26T20:55:00+00:00</updated>
  <author>
      <name>Christian Taylor</name>
  </author>
  <summary type="html">The &lt;code&gt;assertSessionHasNoErrors&lt;/code&gt; method in Laravel&#039;s test suit is surprisingly powerful. It not only asserts that your request has validation errors, it also clearly identifies exactly which validation rules are triggering the errors.

When I......</summary>
  <content type="html"><![CDATA[
      <p>The <code>assertSessionHasNoErrors</code> method in Laravel's test suit is surprisingly powerful. It not only asserts that your request has validation errors, it also clearly identifies exactly which validation rules are triggering the errors.</p>

<p>When I first began writing feature tests in Laravel I would oftentimes run into situations where my tests would fail because of a validation issue. To figure out exactly which validation rule was causing the test failure, I would wrap my requests in a <code>try</code>/<code>catch</code> like this:</p>

<pre><code class="language-php">try {
  $response = $this-&gt;post(route('my-route'), $someData);
  $response-&gt;assertOk();
} catch (ValidationException $e) {
  dd($e-&gt;errors());
}
</code></pre>

<p>Later on I realized all my problems could be solved with in a single line and without any ugly <code>try</code>/<code>catch</code> statements:</p>

<pre><code class="language-php">  $response = $this-&gt;post(route('my-route'), $someData);
  $response-&gt;assertSessionHasNoErrors();
  $response-&gt;assertOk();
</code></pre>

<p>It's not immediately obvious, but if this test fails, <code>assertSessionHasNoErrors</code> will provide a helpful message like this:</p>

<pre><code>Session has unexpected errors: ["The name field is required."]
</code></pre>

<p>So now you'll know exactly which validation rule you need to focus on when fixing your test.</p>
  ]]></content>
</entry>
    <entry>
  <id>https://imacrayon.com/words/css-scroll-padding</id>
  <link type="text/html" rel="alternate" href="https://imacrayon.com/words/css-scroll-padding" />
  <title>CSS Scroll Padding</title>
  <published>2020-04-19T22:30:00+00:00</published>
  <updated>2020-04-19T22:30:00+00:00</updated>
  <author>
      <name>Christian Taylor</name>
  </author>
  <summary type="html">This weekend I ran across I hot tip by Jeffrey Yasskin which highlighted a CSS property I hadn&#039;t encountered before, &lt;code&gt;scroll-padding-top&lt;/code&gt;:

Best kept secret for websites with fixed headers: scroll-padding-top (https://t.co/L7muNZV9d5) can make......</summary>
  <content type="html"><![CDATA[
      <p>This weekend I ran across I hot tip by <a href="https://twitter.com/jyasskin">Jeffrey Yasskin</a> which highlighted a CSS property I hadn't encountered before, <code>scroll-padding-top</code>:</p>

<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Best kept secret for websites with fixed headers: scroll-padding-top (<a href="https://t.co/L7muNZV9d5">https://t.co/L7muNZV9d5</a>) can make fragment links scroll the fragment to somewhere visible instead of under the header.</p>&mdash; Jeffrey Yasskin (@jyasskin) <a href="https://twitter.com/jyasskin/status/1250916297803620352?ref_src=twsrc%5Etfw">April 16, 2020</a></blockquote>

<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>I promptly added this new property to a project I'm currently working on, and now I've got some nice scroll functionality, no JavaScript required.</p>

<p>In my case the height of my app's sticky header is different between the mobile and desktop view, so I took advantage of CSS custom properties:</p>

<pre><code>html {
    --navbar-height: 57px;
    scroll-padding-top: calc(var(--navbar-height) + 47px);
}

@media (min-width: 768px) {
    html {
        --navbar-height: 73px;
    }
}
</code></pre>
  ]]></content>
</entry>
    <entry>
  <id>https://imacrayon.com/words/get-the-most-out-of-laravels-test-command</id>
  <link type="text/html" rel="alternate" href="https://imacrayon.com/words/get-the-most-out-of-laravels-test-command" />
  <title>Get the Most out of Laravel&#039;s Test Runner in Visual Studio Code</title>
  <published>2020-04-14T22:29:00+00:00</published>
  <updated>2020-04-14T22:29:00+00:00</updated>
  <author>
      <name>Christian Taylor</name>
  </author>
  <summary type="html">First, if you&#039;re writing PHPUnit tests in Visual Studio Code and not using the Better PHPUnit extension, download it now. It makes running test such a breeze.

The recent release of Laravel 7 introduced a new artisan test runner command:



It&#039;s......</summary>
  <content type="html"><![CDATA[
      <p>First, if you're writing PHPUnit tests in Visual Studio Code and <strong>not</strong> using the <a href="https://marketplace.visualstudio.com/items?itemName=calebporzio.better-phpunit">Better PHPUnit</a> extension, download it now. It makes running test such a breeze.</p>

<p>The recent release of Laravel 7 introduced a new artisan test runner command:</p>

<pre><code>php artisan test
</code></pre>

<p>It's essentially a wrapper around <a href="https://phpunit.de/">PHPUnit</a> that provides excellent formatting with plenty of colors and whitespace. The new test command also gives you more context around failed tests.</p>

<p>With a small config change to Better PHPUnit, you can use the extension to fire off the new test runner; add the following line to your Visual Studio Code settings JSON and you're all set!</p>

<pre><code>"better-phpunit.phpunitBinary": "php artisan test",
</code></pre>
  ]]></content>
</entry>
    <entry>
  <id>https://imacrayon.com/words/hosting-a-jigsaw-site-on-github-pages</id>
  <link type="text/html" rel="alternate" href="https://imacrayon.com/words/hosting-a-jigsaw-site-on-github-pages" />
  <title>Hosting a Jigsaw Site on GitHub Pages</title>
  <published>2020-04-07T17:36:00+00:00</published>
  <updated>2020-04-07T17:36:00+00:00</updated>
  <author>
      <name>Christian Taylor</name>
  </author>
  <summary type="html">Last week I re-built this site using the Jigsaw static site generator. Before now I&#039;ve been hosting my site on a Digital Ocean droplet, but I thought it might be fun to try hosting it through GitHub Pages.

Unfortunatly, Jigsaw&#039;s documentation for......</summary>
  <content type="html"><![CDATA[
      <p>Last week I re-built this site using the <a href="https://jigsaw.tighten.co">Jigsaw</a> static site generator. Before now I've been hosting my site on a Digital Ocean droplet, but I thought it might be fun to try hosting it through GitHub Pages.</p>

<p>Unfortunatly, Jigsaw's documentation for deploying to GitHub Pages is sparce. My intitial push to the <code>gh-pages</code> branch was easy, but after that I struggled with pushing subsequent updates to the <code>main</code> and <code>gh-pages</code> branches.</p>

<p>I wrestled with trying to come up with a clean deployment strategy until I stumbled upon an <a href="https://james.brooks.page/blog/jigsaw-github-actions/">awesome blog post by James Brooks</a>. James recently setup his own Jigsaw blog to deploy to Github Pages using GitHub Actions and it's exactly what I was needing.</p>

<p>James' strategy is to store all of the Jigsaw assets in a <code>source</code> branch and then setup a GitHub Action that will build and deploy the static site files to be served in the <code>main</code> branch. This approach doesn't require any crazy git commands and it has the added benefit of being deployable anywhere through GitHub's UI.</p>
  ]]></content>
</entry>
    <entry>
  <id>https://imacrayon.com/words/upgrading-php-with-laravel-forge-and-envoyer</id>
  <link type="text/html" rel="alternate" href="https://imacrayon.com/words/upgrading-php-with-laravel-forge-and-envoyer" />
  <title>Upgrading PHP with Laravel Forge and Envoyer</title>
  <published>2020-02-12T21:24:00+00:00</published>
  <updated>2020-02-12T21:24:00+00:00</updated>
  <author>
      <name>Christian Taylor</name>
  </author>
  <summary type="html">Laravel Forge makes it dead simple switch PHP versions. It&#039;s literally just a one button click and you&#039;re good to go. However, today I ran into a hiccup with Forge and Envoyer after upgrading from PHP 7.3 to 7.4.

First, after upgrading, I had to......</summary>
  <content type="html"><![CDATA[
      <p>Laravel Forge makes it dead simple switch PHP versions. It's literally just a one button click and you're good to go. However, today I ran into a hiccup with Forge and Envoyer after upgrading from PHP 7.3 to 7.4.</p>

<p>First, after upgrading, I had to manually change the PHP FPM version in my Nginx config:</p>

<pre><code>fastcgi_pass unix:/var/run/php/php7.4-fpm.sock;
</code></pre>

<p>After this change re-deploying my site through Forge appeared to work, yet I shortly ran up against problems when trying to deploy through Envoyer. It turns out Envoyer also needs to know about any changes to your server's PHP version. From the "Servers" tab, if you click "Update server" (the pencil icon), you'll find a "PHP Version" menu under the "System" section. This field also needs to be set to "PHP 7.4".</p>

<p>Changing the PHP version in Envoyer quickly fixed all my deployment woes, hopefully this might help somebody else facing the same issue.</p>
  ]]></content>
</entry>
    <entry>
  <id>https://imacrayon.com/words/dotfiles</id>
  <link type="text/html" rel="alternate" href="https://imacrayon.com/words/dotfiles" />
  <title>A Clean Start With Dotfiles</title>
  <published>2020-01-28T17:54:00+00:00</published>
  <updated>2020-01-28T17:54:00+00:00</updated>
  <author>
      <name>Christian Taylor</name>
  </author>
  <summary type="html">I started off this year with a new job and a fresh MacBook Pro. My previous MacBook had been around for a while and was gathering cruft; I decided this year I wanted a digital fresh start, and thus began my quest to organize my dotfiles.



Dotfiles are......</summary>
  <content type="html"><![CDATA[
      <h2>New Year, New Computer</h2>

<p>I started off this year with a new job and a fresh MacBook Pro. My previous MacBook had been around for a while and was gathering cruft; I decided this year I wanted a digital fresh start, and thus began my quest to organize my dotfiles.</p>

<h2>What Are Dotfiles?</h2>

<p>Dotfiles are various text files that store your preferred system setup. They're commonly used to define preferences for development tools like shell environments, git, and system configurations.</p>

<p>Backing up and tracking changes to these files makes it easier to restore your system preferences on any install of MacOS.</p>

<h2>My Approach</h2>

<p>Surprisingly, finding a good approach to managing dotfiles can be overwhelming, <a href="https://dotfiles.github.io/inspiration/">there are a <strong>ton</strong> of solutions out there</a> and everybody has their own priorities when it comes to backing up these simple files.</p>

<p>I settled on an approach that is <del>heavily inspired</del> stolen from <a href="https://driesvints.com/blog/getting-started-with-dotfiles/">Dries Vints' Mackup Solution</a>.</p>

<h3>Mackup</h3>

<p>This is an awesome little tool that keeps a lot of your application config files synchronized with iCloud. It does a lot of the heavy lifting in my setup. Mackup takes care of backing up preferences for my apps like Spotify, TablePlus, VSCode, and Terminal.</p>

<h3>Homebrew</h3>

<p>At this point I think <a href="http://brew.sh">Homebrew</a> is pretty much a must-have for any Mac developer. My dotfiles use a <code>Brewfile</code> to define most of the apps, development tools, and libraries I use everyday. Running <code>brew bundle</code> installs all of these tools in a single command.</p>

<h3>Z Shell</h3>

<p>I'm a fan of <a href="http://www.zsh.org">Z Shell</a> and as of MacOS Catalina it is the default shell for mac users. I use the <a href="https://github.com/zimfw/zimfw">Zsh Improved Framework (ZIM)</a> which supplies additional features on top of Z Shell's defaults. <a href="http://ohmyz.sh/">Oh-My-Zsh</a> and <a href="https://github.com/sorin-ionescu/prezto">Presto</a> are two other popular Z Shell frameworks, but I think they both include a lot of over-the-top features I never end up needing.</p>

<h2>A Fresh Install</h2>

<p>Installation of my dotfile preferences is super simple: Run <code>./install.sh</code>, and you're good to go!</p>

<p><a href="https://github.com/imacrayon/dotfiles">You can find a full installation guide on GitHub</a>. Feel free to fork it and modify it as you see fit.</p>
  ]]></content>
</entry>
    <entry>
  <id>https://imacrayon.com/words/an-inline-svg-component-using-vue-and-laravel-mix</id>
  <link type="text/html" rel="alternate" href="https://imacrayon.com/words/an-inline-svg-component-using-vue-and-laravel-mix" />
  <title>An Inline SVG Component Using Vue &amp; Laravel Mix</title>
  <published>2019-08-25T14:24:00+00:00</published>
  <updated>2019-08-25T14:24:00+00:00</updated>
  <author>
      <name>Christian Taylor</name>
  </author>
  <summary type="html">I wanted a Vue component that could pull any SVG from a file and inline it onto the page. View a gist of the full code here.

Jeffery Way and Caleb Porzio have already tackled this problem. However, their solutions wrapped the SVG output in a......</summary>
  <content type="html"><![CDATA[
      <p>I wanted a Vue component that could pull any SVG from a file and inline it onto the page. <a href="https://gist.github.com/imacrayon/f72ce5e40ec30d047b5eda0ae6ea0e39">View a gist of the full code here</a>.</p>

<p><a href="https://laracasts.com/series/practical-vue-components/episodes/6">Jeffery Way</a> and <a href="https://calebporzio.com/using-inline-svgs-in-vue-compoments/">Caleb Porzio</a> have already tackled this problem. However, their solutions wrapped the SVG output in a <code>&lt;div&gt;</code> tag. Extra elements like this feel gross to me, so I modified their work and came up with a solution that outputs clean SVGs instead.</p>

<h2>The Webpack Config</h2>

<p>First, Webpack needs to be configured to handle SVG paths with <a href="https://github.com/webpack-contrib/html-loader">HTML Loader</a>. By default Laravel Mix is configured to use File Loader, you can override this config with the code below:</p>

<pre><code class="language-javascript">mix.override(config =&gt; {
    config.module.rules.find(rule =&gt; rule.test.test('.svg')).exclude = /\.svg$/

    config.module.rules.push({
        test: /\.svg$/,
        use: [{ loader: 'html-loader' }],
    })
})
</code></pre>

<h2>The Vue Component</h2>

<p>The Vue component should accept an SVG file name as a prop and then output the SVG onto the page, like this:</p>

<pre><code class="language-html">&lt;icon name="user" /&gt;
</code></pre>

<p>Here's the basic Vue component structure:</p>

<pre><code class="language-vue">&lt;template&gt;
    &lt;!-- &lt;svg&gt; element will eventually render here --&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
    props: ['name'],
}
&lt;/script&gt;
</code></pre>

<p>Next, we will pull the SVG file and transform it into a DOM Node. Using a DOM node we can work with our SVG more easily than trying to parse the raw SVG code as a string. I've added a <code>created</code> hook that will do this below:</p>

<pre><code class="language-vue">&lt;template&gt;
    &lt;!-- &lt;svg&gt; element will eventually render here --&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
    props: ['name'],

    created() {
        const div = document.createElement('div')
        // Adjust the path below to point to your own SVG directory
        div.innerHTML = require('../../' + this.name + '.svg')

        const fragment = document.createDocumentFragment()
        fragment.appendChild(div)

        const svg = fragment.querySelector('svg')
    },
}
&lt;/script&gt;
</code></pre>

<p>As soon as our Vue component is created, we create a <code>&lt;div&gt;</code> and set its <code>innerHTML</code> to the SVG file's HTML. Then we place the <code>&lt;div&gt;</code> inside of a document fragment and query for the SVG node inside. Building a document fragment in this way lets us use the Vue DOM API without having to actually insert any elements into our webpage's real DOM.</p>

<p>Finally, now that we have our <code>svg</code> node we can finish off the <code>&lt;template&gt;</code> code that will render the SVG onto the page.</p>

<pre><code class="language-vue">&lt;template&gt;
    &lt;svg v-bind="attributes" v-html="html"&gt;&lt;/svg&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
    props: ['name'],

    data: () =&gt; ({
        attributes: {},
        html: '',
    }),

    created() {
        const div = document.createElement('div')
        div.innerHTML = require('../../' + this.name + '.svg')

        const fragment = document.createDocumentFragment()
        fragment.appendChild(div)

        const svg = fragment.querySelector('svg')

        const attributes = Array.from(svg.attributes).reduce((attrs, attr) =&gt; {
            attrs[attr.name] = attr.value

            return attrs
        }, {})

        this.attributes = Object.assign(attributes, this.$attrs)

        this.html = svg.innerHTML
    },
}
&lt;/script&gt;
</code></pre>

<p>In the code above, we grab all of the SVG node's attributes and merge them with any attributes that might exist on our Vue component (contained in <code>$attrs</code>). Then we copy over the <code>innerHTML</code> from our SVG node and output in our Vue template using the <code>v-html</code> directive.</p>

<p><strong>And we're done!</strong> Now we have a super flexible inline SVG component: Any attributes applied to the component will be inherited by the SVG.</p>

<pre><code class="language-html">&lt;icon name="user" width="16px" height="16px" fill="red"&gt;&lt;/icon&gt;
</code></pre>
  ]]></content>
</entry>
    <entry>
  <id>https://imacrayon.com/words/mobile-friendly-tables</id>
  <link type="text/html" rel="alternate" href="https://imacrayon.com/words/mobile-friendly-tables" />
  <title>Mobile Friendly Tables</title>
  <published>2019-07-14T17:13:00+00:00</published>
  <updated>2019-07-14T17:13:00+00:00</updated>
  <author>
      <name>Christian Taylor</name>
  </author>
  <summary type="html">Building a table that works well on smaller screens is tricky, but I&#039;ve come up with a simple CSS-only approach that works well for the 80% use case.



Check out the example below by resizing your browser window:


    table &gt; caption {
        padding:......</summary>
  <content type="html"><![CDATA[
      <p>Building a table that works well on smaller screens is tricky, but I've come up with a simple CSS-only approach that works well for the 80% use case.</p>

<h2>An Example</h2>

<p>Check out the example below by resizing your browser window:</p>

<style>
    table > caption {
        padding: .5rem;
        margin-bottom: 1rem;
        font-size: 1.5rem;
        font-weight: bold;
    }
    @media (max-width: 768px) {
        .table-collapse {
            width: 100%;
        }
        .table-collapse > tfoot,
        .table-collapse > thead {
            display: none;
        }
        .table-collapse > tbody,
        .table-collapse > tbody > tr,
        .table-collapse > tbody > tr > td,
        .table-collapse > tbody > tr > th {
            display: block;
            width: auto;
        }
        .table-collapse > tbody > tr {
            padding-top: 0.5em;
            padding-bottom: 0.5em;
            border-top: 1px solid theme('colors.gray.200');
        }
        .table-collapse > tbody > tr > th {
            border: none !important;
            padding: 0.25em 0.5em;
            text-align: left !important;
        }
        .table-collapse > tbody > tr > th:first-child {
            padding-left: 0.5em;
        }
        .table-collapse > tbody > tr > th:last-child {
            padding-right: 0.5em;
        }
        .table-collapse > tbody > tr > td {
            border: none !important;
            padding: 0.25em 0.5em 0.25em 35%;
            box-shadow: none !important;
            text-align: left !important;
            position: relative;
        }
        .table-collapse > tbody > tr > td:first-child {
            padding-left: 35%;
        }
        .table-collapse > tbody > tr > td:last-child {
            padding-right: 0.5em;
        }
        .table-collapse > tbody > tr > td::before {
            content: attr(data-heading);
            position: absolute;
            top: 0.25em;
            left: 0.5em;
            width: 35%;
            padding-right: 0.25em;
            white-space: nowrap;
            z-index: 1;
        }
    }
    </style>

<table class="table-collapse">
  <caption>My Most Played Songs of 2018</caption>
  <thead>
    <tr>
      <th>Title</th>
      <th>Artist</th>
      <th>Album</th>
      <th class="text-right">Released</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td data-heading="Title">Our Song</td>
      <td data-heading="Artist">Radiator Hospital</td>
      <td data-heading="Album">Something Wild</td>
      <td data-heading="Released" class="text-right">2013</td>
    </tr>
    <tr>
      <td data-heading="Title">DEB</td>
      <td data-heading="Artist">Thin Lips</td>
      <td data-heading="Album">Riff Hard</td>
      <td data-heading="Released" class="text-right">2016</td>
    </tr>
    <tr>
      <td data-heading="Title">Crown Victoria</td>
      <td data-heading="Artist">Lithuania</td>
      <td data-heading="Album">White Reindeer</td>
      <td data-heading="Released" class="text-right">2017</td>
    </tr>
    <tr>
      <td data-heading="Title">Phoenix</td>
      <td data-heading="Artist">Slaughter Beach, Dog</td>
      <td data-heading="Album">Birdie</td>
      <td data-heading="Released" class="text-right">2018</td>
    </tr>
    <tr>
      <td data-heading="Title">Enter Entirely</td>
      <td data-heading="Artist">Cloud Nothings</td>
      <td data-heading="Album">Life Without Sound</td>
      <td data-heading="Released" class="text-right">2017</td>
    </tr>
    <tr>
      <td data-heading="Title">the cool</td>
      <td data-heading="Artist">Oso Oso</td>
      <td data-heading="Album">The Yunahon Mixtape</td>
      <td data-heading="Released" class="text-right">2017</td>
    </tr>
    <tr>
      <td data-heading="Title">How Simple</td>
      <td data-heading="Artist">Hop Along</td>
      <td data-heading="Album">Bark Your Head Off Dog</td>
      <td data-heading="Released" class="text-right">2018</td>
    </tr>
    <tr>
      <td data-heading="Title">Shark Smile - Edit</td>
      <td data-heading="Artist">Big Thief</td>
      <td data-heading="Album">Shark Smile (Edit)</td>
      <td data-heading="Released" class="text-right">2017</td>
    </tr>
    <tr>
      <td data-heading="Title">Raining in Kyoto</td>
      <td data-heading="Artist">The Wonder Years</td>
      <td data-heading="Album">Sister Cities</td>
      <td data-heading="Released" class="text-right">2018</td>
    </tr>
    <tr>
      <td data-heading="Title">Dead-Bird</td>
      <td data-heading="Artist">McCafferty</td>
      <td data-heading="Album">Beachboy</td>
      <td data-heading="Released" class="text-right">2014</td>
    </tr>
    <tr>
      <td data-heading="Title">I Never Wanted You</td>
      <td data-heading="Artist">Headphones</td>
      <td data-heading="Album">Headphones</td>
      <td data-heading="Released" class="text-right">2005</td>
    </tr>
    <tr>
      <td data-heading="Title">Your Best American Girl</td>
      <td data-heading="Artist">Mitski</td>
      <td data-heading="Album">Puberty 2</td>
      <td data-heading="Released" class="text-right">2016</td>
    </tr>
  </tbody>
</table>

<h2>How It's Done</h2>

<p>The first step to creating a good table is to ask yourself <em>"Do I actually need to use a table?"</em>. Many times there's better ways to present tabular data than just a boring table, <a href="https://www.steveschoger.com/">Steve Schoger</a> has some <a href="https://twitter.com/steveschoger/status/997125312411570176">great tips on organizing tabular data</a>.</p>

<p>If it turns out you <em>really</em> do need a table, check out the code in the next section.</p>

<h2>The Code</h2>

<p>First, let's take a look at the markup:</p>

<pre><code class="language-html">&lt;table class="table-collapse"&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Title&lt;/th&gt;
      &lt;th&gt;Artist&lt;/th&gt;
      &lt;th&gt;Album&lt;/th&gt;
      &lt;th class="text-right"&gt;Release Date&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td data-heading="Title"&gt;Our Song&lt;/td&gt;
      &lt;td data-heading="Artist"&gt;Radiator Hospital&lt;/td&gt;
      &lt;td data-heading="Album"&gt;Something Wild&lt;/td&gt;
      &lt;td data-heading="Release Date" class="text-right"&gt;2013&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
</code></pre>

<p>There's two important thing to note in the markup above:</p>

<ol>
<li>The <code>table-collapse</code> class will apply the collapsible behavior to the table.</li>
<li>The <code>data-heading</code> attribute on each <code>&lt;td&gt;</code> element should describe the table cell data.</li>
</ol>

<p>Now, for the CSS:</p>

<pre><code class="language-css">@media (max-width: 768px) {
  .table-collapse {
    width: 100%;
  }
  .table-collapse &gt; tfoot,
  .table-collapse &gt; thead {
    display: none;
  }
  .table-collapse &gt; tbody,
  .table-collapse &gt; tbody &gt; tr,
  .table-collapse &gt; tbody &gt; tr &gt; td,
  .table-collapse &gt; tbody &gt; tr &gt; th {
    display: block;
    width: auto;
  }
  .table-collapse &gt; tbody &gt; tr {
    padding-top: 0.5em;
    padding-bottom: 0.5em;
    border-top: 1px solid theme('colors.gray.200');
  }
  .table-collapse &gt; tbody &gt; tr &gt; th {
    border: none !important;
    padding: 0.25em 0.5em;
    text-align: left !important;
  }
  .table-collapse &gt; tbody &gt; tr &gt; th:first-child {
    padding-left: 0.5em;
  }
  .table-collapse &gt; tbody &gt; tr &gt; th:last-child {
    padding-right: 0.5em;
  }
  .table-collapse &gt; tbody &gt; tr &gt; td {
    border: none !important;
    padding: 0.25em 0.5em 0.25em 35%;
    box-shadow: none !important;
    text-align: left !important;
    position: relative;
  }
  .table-collapse &gt; tbody &gt; tr &gt; td:first-child {
    padding-left: 35%;
  }
  .table-collapse &gt; tbody &gt; tr &gt; td:last-child {
    padding-right: 0.5em;
  }
  .table-collapse &gt; tbody &gt; tr &gt; td::before {
    content: attr(data-heading);
    position: absolute;
    top: 0.25em;
    left: 0.5em;
    width: 35%;
    padding-right: 0.25em;
    white-space: nowrap;
    z-index: 1;
  }
}
</code></pre>

<p><a href="https://gist.github.com/imacrayon/ffab2dfb5f0f143f6e2110aea8b11212">View the code for this table as a gist</a>.</p>

<p>Thanks to the media query in the first line above these styles are applied when the browser window is <strong>less than or equal to</strong> <code>768px</code> wide. The table's header and footer are hidden and the cells in each row stack vertically using <code>display: block</code>. Each of the table cells also have <code>padding-left: 35%</code> which allows a healthy amount of space for the <code>::before</code> pseudo element to sit to the left of the cell's data using <code>position: absolute</code>. The <code>content: attr(data-heading)</code> line dynamically pulls text from the <code>data-heading</code> attribute in the HTML and uses that text as a new label for the cell. The best part is the CSS <code>attr()</code> function has support all the way back to IE 8 when used as a <code>content</code> value.</p>
  ]]></content>
</entry>
    <entry>
  <id>https://imacrayon.com/words/expressive-syncing-in-laravel</id>
  <link type="text/html" rel="alternate" href="https://imacrayon.com/words/expressive-syncing-in-laravel" />
  <title>Expressive Syncing in Laravel</title>
  <published>2019-07-06T14:49:00+00:00</published>
  <updated>2019-07-06T14:49:00+00:00</updated>
  <author>
      <name>Christian Taylor</name>
  </author>
  <summary type="html">&lt;code&gt;sync&lt;/code&gt; accepts a second parameter that prevents a model from detaching any associations.



If you haven&#039;t check the Laravel docs lately there&#039;s a nice, new &lt;code&gt;syncWithoutDetaching&lt;/code&gt; method that makes your code a whole lot more......</summary>
  <content type="html"><![CDATA[
      <p><code>sync</code> accepts a second parameter that prevents a model from detaching any associations.</p>

<pre><code class="language-php">$post-&gt;tags()-&gt;pluck('id'); // 1, 3, 5

$post-&gt;tags()-&gt;sync([2, 4], false);

$past-&gt;tags()-&gt;pluck('id'); // 1, 2, 3, 4, 5
</code></pre>

<p>If you haven't check the Laravel docs lately there's a nice, new <code>syncWithoutDetaching</code> method that makes your code a whole lot more expressive.</p>

<pre><code class="language-php">$post-&gt;tags()-&gt;pluck('id'); // 1, 3, 5

$post-&gt;tags()-&gt;syncWithoutDetaching([2, 4]);

$past-&gt;tags()-&gt;pluck('id'); // 1, 2, 3, 4, 5
</code></pre>
  ]]></content>
</entry>
</feed>
